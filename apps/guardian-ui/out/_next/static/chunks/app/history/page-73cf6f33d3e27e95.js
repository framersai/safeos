(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{60350:function(e,t,s){Promise.resolve().then(s.bind(s,8090))},8090:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(57437),r=s(2265),a=s(27648);let n={info:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30"},low:{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/30"},medium:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30"},high:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"},critical:{bg:"bg-red-500/20",text:"text-red-400",border:"border-red-500/30"},none:{bg:"bg-slate-500/20",text:"text-slate-400",border:"border-slate-500/30"}};function i(e){let t=new Date(e),s=new Date().getTime()-t.getTime();if(s<6e4)return"Just now";if(s<36e5){let e=Math.floor(s/6e4);return"".concat(e," min").concat(e>1?"s":""," ago")}if(s<864e5){let e=Math.floor(s/36e5);return"".concat(e," hour").concat(e>1?"s":""," ago")}return t.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function c(){let[e,t]=(0,r.useState)("alerts"),[s,c]=(0,r.useState)("all"),[o,d]=(0,r.useState)([]),[x,m]=(0,r.useState)([]),[h,u]=(0,r.useState)(!0),[g,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{j()},[e]);let j=async()=>{u(!0),p(null);try{if("alerts"===e){let e=await fetch("/api/alerts?limit=100"),t=await e.json();t.success&&d(t.data)}else{let e=await fetch("/api/analysis?limit=100"),t=await e.json();t.success&&m(t.data)}}catch(e){p("Failed to fetch data")}finally{u(!1)}},b="all"===s?o:o.filter(e=>e.severity===s),f="all"===s?x:x.filter(e=>e.concern_level===s);return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,l.jsx)("header",{className:"p-4 sm:p-6 border-b border-slate-700/50",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a.default,{href:"/",className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"History"})]}),(0,l.jsxs)("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 text-slate-400 hover:text-white transition-colors",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex bg-slate-800 rounded-lg p-1",children:[(0,l.jsx)("button",{onClick:()=>t("alerts"),className:"px-4 py-2 rounded-md transition-colors ".concat("alerts"===e?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:"Alerts"}),(0,l.jsx)("button",{onClick:()=>t("analysis"),className:"px-4 py-2 rounded-md transition-colors ".concat("analysis"===e?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:"Analysis Results"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm text-slate-400",children:"Filter:"}),(0,l.jsxs)("select",{value:s,onChange:e=>c(e.target.value),className:"px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,l.jsx)("option",{value:"all",children:"All"}),(0,l.jsx)("option",{value:"critical",children:"Critical"}),(0,l.jsx)("option",{value:"high",children:"High"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"low",children:"Low"}),(0,l.jsx)("option",{value:"info",children:"Info"})]})]})]}),h?(0,l.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,l.jsx)("div",{className:"w-8 h-8 border-4 border-slate-600 border-t-emerald-500 rounded-full animate-spin"})}):g?(0,l.jsxs)("div",{className:"text-center py-20",children:[(0,l.jsx)("p",{className:"text-red-400",children:g}),(0,l.jsx)("button",{onClick:j,className:"mt-4 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Try Again"})]}):"alerts"===e?(0,l.jsx)("div",{className:"space-y-3",children:0===b.length?(0,l.jsxs)("div",{className:"text-center py-20",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-800 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),(0,l.jsx)("p",{className:"text-slate-400",children:"No alerts yet"}),(0,l.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Alerts will appear here when detected"})]}):b.map(e=>{let t=n[e.severity];return(0,l.jsx)("div",{className:"p-4 rounded-xl border ".concat(t.border," ").concat(t.bg),children:(0,l.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded ".concat(t.text," ").concat(t.bg),children:e.severity.toUpperCase()}),(0,l.jsx)("span",{className:"text-xs text-slate-500",children:e.alert_type})]}),(0,l.jsx)("p",{className:"text-white",children:e.message}),(0,l.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[i(e.created_at),e.acknowledged&&(0,l.jsx)("span",{className:"ml-2 text-emerald-400",children:"✓ Acknowledged"})]})]})})},e.id)})}):(0,l.jsx)("div",{className:"space-y-3",children:0===f.length?(0,l.jsxs)("div",{className:"text-center py-20",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-800 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,l.jsx)("p",{className:"text-slate-400",children:"No analysis results yet"}),(0,l.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Start monitoring to see AI analysis"})]}):f.map(e=>{let t=n[e.concern_level];return(0,l.jsx)("div",{className:"p-4 rounded-xl border border-slate-700 bg-slate-800/50",children:(0,l.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded ".concat(t.text," ").concat(t.bg),children:e.concern_level.toUpperCase()}),(0,l.jsxs)("span",{className:"text-xs text-slate-500",children:[e.model_used," • ",e.processing_time_ms,"ms"]})]}),(0,l.jsx)("p",{className:"text-white",children:e.description}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:i(e.created_at)})]})})},e.id)})}),!h&&!g&&(0,l.jsxs)("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 text-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-white",children:"alerts"===e?o.length:x.length}),(0,l.jsx)("p",{className:"text-sm text-slate-400",children:"Total"})]}),(0,l.jsxs)("div",{className:"p-4 bg-red-500/10 rounded-xl border border-red-500/30 text-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-red-400",children:"alerts"===e?o.filter(e=>"critical"===e.severity||"high"===e.severity).length:x.filter(e=>"critical"===e.concern_level||"high"===e.concern_level).length}),(0,l.jsx)("p",{className:"text-sm text-red-400/70",children:"Critical/High"})]}),(0,l.jsxs)("div",{className:"p-4 bg-yellow-500/10 rounded-xl border border-yellow-500/30 text-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:"alerts"===e?o.filter(e=>"medium"===e.severity).length:x.filter(e=>"medium"===e.concern_level).length}),(0,l.jsx)("p",{className:"text-sm text-yellow-400/70",children:"Medium"})]}),(0,l.jsxs)("div",{className:"p-4 bg-green-500/10 rounded-xl border border-green-500/30 text-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-green-400",children:"alerts"===e?o.filter(e=>!e.acknowledged).length:x.filter(e=>"none"===e.concern_level||"low"===e.concern_level).length}),(0,l.jsx)("p",{className:"text-sm text-green-400/70",children:"alerts"===e?"Pending":"Low/None"})]})]})]})]})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=60350)}),_N_E=e.O()}]);